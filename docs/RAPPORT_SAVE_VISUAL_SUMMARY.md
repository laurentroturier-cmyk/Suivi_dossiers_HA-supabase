# RÃ©sumÃ© visuel - FonctionnalitÃ© Sauvegarde/Chargement

## ðŸŽ¨ Interface utilisateur

### Avant (v1.x)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Structure du Rapport de PrÃ©sentation                   â”‚
â”‚                                          [Exporter DOCX]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chapitres du rapport...                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AprÃ¨s (v2.0)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Structure du Rapport de PrÃ©sentation                   â”‚
â”‚              [Sauvegarder] [Charger (3)] [Exporter DOCX]â”‚
â”‚                 ðŸŸ            ðŸŸ£              ðŸŸ¢          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chapitres du rapport...                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“¦ Dialogues ajoutÃ©s

### Dialogue Sauvegarder

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Sauvegarder le rapport           [X]  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                       â•‘
â•‘ Titre du rapport *                    â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚ Rapport de prÃ©sentation - v1      â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                       â•‘
â•‘ Notes (optionnel)                     â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚ Version initiale pour rÃ©vision    â”‚ â•‘
â•‘ â”‚                                   â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                       â•‘
â•‘  âœ… Rapport enregistrÃ© avec succÃ¨s    â•‘
â•‘                                       â•‘
â•‘      [Enregistrer]     [Annuler]      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Dialogue Charger

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Charger un rapport sauvegardÃ©                        [X]  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚ ðŸ“„ Rapport de prÃ©sentation - Version finale          â”‚ â•‘
â•‘ â”‚ [ValidÃ©] [v3]                                         â”‚ â•‘
â•‘ â”‚ ðŸ•’ CrÃ©Ã© le 15/01/2024 14:30                           â”‚ â•‘
â•‘ â”‚ âœï¸ ModifiÃ© le 16/01/2024 09:15                        â”‚ â•‘
â•‘ â”‚ "Rapport validÃ© aprÃ¨s corrections"                    â”‚ â•‘
â•‘ â”‚                   [Charger] [Statutâ–¼] [Suppr.]       â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚ ðŸ“„ Rapport de prÃ©sentation - v2                       â”‚ â•‘
â•‘ â”‚ [En rÃ©vision] [v2]                                    â”‚ â•‘
â•‘ â”‚ ðŸ•’ CrÃ©Ã© le 15/01/2024 10:00                           â”‚ â•‘
â•‘ â”‚ âœï¸ ModifiÃ© le 15/01/2024 11:45                        â”‚ â•‘
â•‘ â”‚                   [Charger] [Statutâ–¼] [Suppr.]       â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚ ðŸ“„ Rapport de prÃ©sentation - Brouillon               â”‚ â•‘
â•‘ â”‚ [Brouillon] [v1]                                      â”‚ â•‘
â•‘ â”‚ ðŸ•’ CrÃ©Ã© le 14/01/2024 16:20                           â”‚ â•‘
â•‘ â”‚                   [Charger] [Statutâ–¼] [Suppr.]       â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                           â•‘
â•‘                                             [Fermer]      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ðŸ—„ï¸ Architecture de donnÃ©es

### Table Supabase : rapports_presentation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ rapports_presentation                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                  UUID (PK)         gen_random_uuid() â”‚
â”‚ num_proc            TEXT (FK)         â†’ procÃ©dures      â”‚
â”‚ titre               TEXT              "Rapport v1"      â”‚
â”‚ auteur              TEXT              "Jean Dupont"     â”‚
â”‚ date_creation       TIMESTAMPTZ       2024-01-15 14:30  â”‚
â”‚ date_modification   TIMESTAMPTZ       2024-01-15 16:45  â”‚
â”‚ statut              TEXT              brouillon         â”‚
â”‚ version             INTEGER           1                 â”‚
â”‚ rapport_data        JSONB             { ... }           â”‚
â”‚ fichiers_sources    JSONB             { depots: true }  â”‚
â”‚ notes               TEXT              "Notes..."        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€ Index: num_proc (B-tree)
        â”œâ”€ Index: statut (B-tree)
        â”œâ”€ Index: date_creation (B-tree)
        â””â”€ Index: rapport_data (GIN)
```

### Structure JSONB rapport_data

```json
{
  "section1_contexte": {
    "objetMarche": "MarchÃ© de travaux...",
    "dureeMarche": 12,
    "contexteProjet": "..."
  },
  "section2_deroulement": {
    "datePublication": "2024-01-10",
    "dateLimiteDepot": "2024-02-15",
    ...
  },
  "section5_proposition": { ... },
  "section6_conformite": { ... },
  "section7_admissibilite": { ... },
  "section8_performances": {
    "tableaux": [ ... ],
    "lots": [ ... ]
  },
  "section9_attributaires": {
    "attributaires": [ ... ],
    "montantTotal": 250000
  },
  "contenuChapitre3": "Texte manuel saisi...",
  "contenuChapitre4": "Texte manuel saisi...",
  "contenuChapitre10": "Planning et calendrier..."
}
```

## ðŸ”„ Workflows

### Workflow 1 : CrÃ©ation simple

```
Utilisateur                   Application                  Supabase
     â”‚                             â”‚                            â”‚
     â”œâ”€â”€â”€ GÃ©nÃ©rer rapport â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚
     â”‚                             â”œâ”€â”€â”€ DonnÃ©es en mÃ©moire      â”‚
     â”‚                             â”‚                            â”‚
     â”œâ”€â”€â”€ Clic "Sauvegarder" â”€â”€â”€â”€â”€>â”‚                            â”‚
     â”‚                             â”‚                            â”‚
     â”œâ”€â”€â”€ Saisir titre â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚
     â”‚                             â”‚                            â”‚
     â”‚                             â”œâ”€â”€â”€ INSERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                             â”‚                            â”‚
     â”‚                             â”‚<â”€â”€â”€â”€â”€â”€ Success â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                             â”‚                            â”‚
     â”‚<â”€â”€â”€ "EnregistrÃ©" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                            â”‚
```

### Workflow 2 : Chargement

```
Utilisateur                   Application                  Supabase
     â”‚                             â”‚                            â”‚
     â”œâ”€â”€â”€ Clic "Charger" â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚
     â”‚                             â”‚                            â”‚
     â”‚                             â”œâ”€â”€â”€ SELECT * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                             â”‚                            â”‚
     â”‚                             â”‚<â”€â”€â”€â”€â”€â”€ Liste rapports â”€â”€â”€â”€â”¤
     â”‚                             â”‚                            â”‚
     â”‚<â”€â”€â”€ Affiche dialogue â”€â”€â”€â”€â”€â”€â”€â”¤                            â”‚
     â”‚                             â”‚                            â”‚
     â”œâ”€â”€â”€ SÃ©lectionne rapport â”€â”€â”€â”€>â”‚                            â”‚
     â”‚                             â”‚                            â”‚
     â”‚                             â”œâ”€â”€â”€ SELECT WHERE id â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                             â”‚                            â”‚
     â”‚                             â”‚<â”€â”€â”€â”€â”€â”€ DonnÃ©es JSONB â”€â”€â”€â”€â”€â”¤
     â”‚                             â”‚                            â”‚
     â”‚                             â”œâ”€â”€â”€ Restaure state         â”‚
     â”‚                             â”‚                            â”‚
     â”‚<â”€â”€â”€ "ChargÃ© avec succÃ¨s" â”€â”€â”€â”¤                            â”‚
```

### Workflow 3 : Versioning

```
Version 1 (Brouillon)
   â”‚
   â”œâ”€â”€â”€ Modifications
   â”‚
Version 2 (En rÃ©vision)
   â”‚
   â”œâ”€â”€â”€ Relecture + Corrections
   â”‚
Version 3 (ValidÃ©)
   â”‚
   â”œâ”€â”€â”€ Export final
   â”‚
Version 3 (PubliÃ©)
```

## ðŸŽ¨ Codes couleur

### Boutons

| Bouton | Couleur | Hex | Usage |
|--------|---------|-----|-------|
| Sauvegarder | Orange | `#ea580c` | Action de sauvegarde |
| Charger | Violet | `#9333ea` | Action de chargement |
| Exporter | Vert | `#16a34a` | Export DOCX final |

### Badges de statut

| Statut | Couleur | Background | Text |
|--------|---------|------------|------|
| Brouillon | Gris | `#e5e7eb` | `#374151` |
| En rÃ©vision | Bleu | `#bfdbfe` | `#1e40af` |
| ValidÃ© | Vert | `#bbf7d0` | `#15803d` |
| PubliÃ© | Violet | `#e9d5ff` | `#6b21a8` |

## ðŸ“Š Flux de donnÃ©es

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upload fichiers â”‚
â”‚  (Depots, AN01)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GÃ©nÃ©rer rapport  â”‚
â”‚ (en mÃ©moire)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                  â”‚
         â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Saisir contenus  â”‚  â”‚ Export DOCX      â”‚
â”‚ manuels (Ch3,4,10)â”‚  â”‚ (temporaire)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sauvegarder      â”‚â”€â”€â”€â”€â”€â”€â”
â”‚ dans Supabase    â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
         â”‚                â”‚
         â–¼                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚ Stockage JSONB   â”‚      â”‚
â”‚ + MÃ©tadonnÃ©es    â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
         â”‚                â”‚
         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (Rechargeable)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Charger depuis   â”‚
â”‚ Supabase         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Restaurer state  â”‚
â”‚ React            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Export DOCX      â”‚
â”‚ (depuis sauvegarde)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ” SÃ©curitÃ© RLS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Row Level Security (RLS)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ SELECT   âœ… Tous les utilisateurs authentifiÃ©s          â”‚
â”‚          auth.role() = 'authenticated'                  â”‚
â”‚                                                         â”‚
â”‚ INSERT   âœ… Tous les utilisateurs authentifiÃ©s          â”‚
â”‚          auth.role() = 'authenticated'                  â”‚
â”‚                                                         â”‚
â”‚ UPDATE   âœ… Tous les utilisateurs authentifiÃ©s          â”‚
â”‚          auth.role() = 'authenticated'                  â”‚
â”‚                                                         â”‚
â”‚ DELETE   âš ï¸ Admins uniquement                           â”‚
â”‚          profiles.role = 'admin'                        â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“ˆ Performance

### Temps de rÃ©ponse

```
Sauvegarder :  â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘  < 2s
Charger     :  â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  < 1s
Lister      :  â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  < 0.5s
Supprimer   :  â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  < 0.5s
```

### Taille des donnÃ©es

```
Rapport moyen JSONB:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘  50-200 KB
Avec AN01 multi-lots: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  150-300 KB
Maximum thÃ©orique:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ~1 MB
```

## ðŸŽ¯ Cas d'usage

### Cas 1 : Analyste solo

```
Lundi     : Upload fichiers + GÃ©nÃ©ration â†’ Sauvegarde (Brouillon)
Mardi     : Charge rapport â†’ Ajout contenu manuel â†’ Sauvegarde (v2)
Mercredi  : Charge v2 â†’ Relecture â†’ Statut "En rÃ©vision"
Jeudi     : Charge v2 â†’ Corrections â†’ Statut "ValidÃ©"
Vendredi  : Charge v2 â†’ Export final â†’ Statut "PubliÃ©"
```

### Cas 2 : Ã‰quipe collaborative

```
Analyste 1  : CrÃ©ation brouillon (v1)
Analyste 2  : Charge v1 â†’ Ajout dÃ©tails â†’ Sauvegarde (v2, En rÃ©vision)
Manager     : Charge v2 â†’ Validation â†’ Statut "ValidÃ©"
Analyste 1  : Charge v2 â†’ Export final â†’ Statut "PubliÃ©"
```

### Cas 3 : Comparaison scÃ©narios

```
ScÃ©nario A  : Lot unique â†’ v1
ScÃ©nario B  : Multi-lots â†’ v2
ScÃ©nario C  : AprÃ¨s nÃ©gociation â†’ v3
```

## ðŸš€ Migration depuis v1.x

### Aucune action requise !

- âœ… FonctionnalitÃ© entiÃ¨rement **additive**
- âœ… **Pas de breaking change**
- âœ… Les workflows existants fonctionnent toujours
- âœ… Nouvelle fonctionnalitÃ© **optionnelle**

### Activation

1. ExÃ©cuter `sql/create-rapports-presentation.sql`
2. âœ¨ **C'est tout !**

